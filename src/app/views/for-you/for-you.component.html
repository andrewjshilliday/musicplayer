<perfect-scrollbar>
  <div class="container-fluid">
    <div class="header">
      <h1>For You</h1>
    </div>

    <div *ngIf="loading">
      <mat-spinner class="loading-spinner"></mat-spinner>
    </div>

    <div *ngIf='!loading'>

      <div *ngIf="playerService.recommendations && playerService.recommendations.length && playerService.recommendations[0]">
        <h3>{{playerService.recommendations[0].attributes.title.stringForDisplay}}</h3>
        <app-media-item-collection-row [collection]="playerService.recommendations[0].relationships.contents.data" [size]="2"></app-media-item-collection-row>
      </div>

      <div *ngIf="playerService.recentPlayed && playerService.recentPlayed.length">
        <h3>Recently Played</h3> <!-- Recently Played -->
        <app-media-item-collection-row [collection]="playerService.recentPlayed"></app-media-item-collection-row>
      </div>

      <div *ngIf="playerService.heavyRotation && playerService.heavyRotation.length">
        <h3>Heavy Rotation</h3> <!-- Heavy Rotation -->
        <app-media-item-collection-row [collection]="playerService.heavyRotation"></app-media-item-collection-row>
      </div>

      <ng-container *ngIf="playerService.recommendations && playerService.recommendations.length">
        <div *ngFor="let recommendation of playerService.recommendations; let i=index">
          <ng-container *ngIf="!recommendation.attributes.isGroupRecommendation">
            <ng-container *ngIf="i != 0">
              <h3>{{recommendation.attributes.title.stringForDisplay}}</h3>
              <app-media-item-collection-row [collection]="recommendation.relationships.contents.data"></app-media-item-collection-row>
            </ng-container>
          </ng-container>
          <ng-container *ngIf="recommendation.attributes.isGroupRecommendation">
            <div *ngFor="let subRecommendation of recommendation.relationships.contents.data">
              <h3>{{subRecommendation.attributes.title.stringForDisplay}}</h3>
              <app-media-item-collection-row [collection]="subRecommendation.relationships.contents.data"></app-media-item-collection-row>
            </div>
          </ng-container>
        </div>
      </ng-container>

    </div>
  </div>
</perfect-scrollbar>
